<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>聊天室</title>
</head>
<body>
    
</body>
<!-- 1.该脚本其实在node_modules里 -->
<!-- 2.通过嵌入该脚本,服务端相当于在客户端嵌入了全局变量io(用于通信) -->
<script src="/socket.io/socket.io.js"></script>
<script>
    let socket = io.connect("/");
    socket.on("connect",function(){
        console.log("连接成功");
        /**
         * socket.send 是 socket.emit("message","hello")的语法糖
         * 优点: (1)更语义化 (2)更短(比如少写 message)
         * ps: message只是通信方式中的一种
         */
        socket.send("hello");
    });
    // 监听服务器返回的消息
    socket.on("message",function(message){
        console.log(message);
    })
    socket.on("disconnect",function(){
        console.log("连接失败");
    });
</script>
</html>